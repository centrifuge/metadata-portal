runs:
  using: "composite"
  steps:
    - name: ðŸ› ï¸ Install system dependencies
      run: |
        sudo apt update
        sudo apt install -y clang-18 llvm-18-dev libclang-18-dev libopencv-dev pkg-config

        # GitHub Actions environment export syntax
        echo "LIBCLANG_PATH=/usr/lib/llvm-18/lib" >> $GITHUB_ENV
        echo "LD_LIBRARY_PATH=/usr/lib/llvm-18/lib" >> $GITHUB_ENV
        echo "LLVM_CONFIG_PATH=/usr/lib/llvm-18/bin/llvm-config" >> $GITHUB_ENV
        echo "CLANG_PATH=/usr/bin/clang-18" >> $GITHUB_ENV
        echo "PKG_CONFIG_PATH=/usr/lib/pkgconfig:/usr/lib/x86_64-linux-gnu/pkgconfig" >> $GITHUB_ENV
      shell: bash

    - name: ðŸ”§ Install Rust (Stable)
      run: |
        curl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs | sh -s -- -y
      shell: bash

    - name: ðŸ’¾ Rust Cache
      uses: Swatinem/rust-cache@v2
